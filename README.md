# ComplexFormTest

##Задание:

SPA приложение на Angular для верстки используем Angular Material или своя реализация верстки.

Реализовать на одной странице реактивную форму резюме с полями. Каждое поле является отдельным Angular-компонентом.

1) ФИО (одно поле с текстом / можно вводить только на русском языке / поле обязательно для заполнения / отчество не обязательно).

2) Пол (radio-button с выбором М/Ж обязательно для заполнения).

3) Дата рождения (datepicker) - обязательно для заполнения. Если больше 18 лет выводить поле семейное положение.

4) Поле семейное положение - выпадающий список (женат/замужем/в разводе/нет).

      Присутствие пунктов женат/замужем взаимоисключающее в зависимости от пола, но имеют разные значения.

      Поле является обязательным к заполнению если Дата рождения больше 18 лет.

      По умолчанию значение из списка не выбрано. Значение &laquo;нет&raquo; не является значением по умолчанию.

5) Количество детей (можно вводить толко числа. компонент должен реагировать на клавиши &laquo;+&raquo; и &laquo;-&raquo; ).

6) Email (обязательно для заполнения).

7) Поле комментарий - текст не обязательно для заполнения (может содержать только кириллицу).

8) Кнопка &laquo;сохранить&raquo; (по нажатию валидировать форму и если все ок - оправлять данные в сервис и перенаправляем пользователя на вторую страницу с отличным урл).



В случае ошибочного заполнения полей информируем пользователя об ошибках в полях.

Необязательные поля, исходные данные которых не изменялись или отсутствует условие отображения поля, то валидация таких полей не должна блокировать.

Если форму не удалось заполнить с 3-й попытки, сбрасываем данные в форме.

Блокировать кнопку сохранить 10 секундным интервалом при каждой попытке неудачного сохранения.



Должен выполнятся тест-кейс в нелинейном заполнении формы: 

      1) Заполняем ФИО, Пол, Email. 

      2) Выбираем дату рождения больше 18 лет.

      3) Поле семейное положение - женат/замужем.

      4) Выбираем дату рождения меньше 18 лет.

Ожидаемый результат - кнопка активна. По нажатию данные отправляются. В данных сервиса поле семейное положение имеет значение по умолчанию.



На второй странице выводить заполненные данные из сервиса в виде текста с параграфами, также при обновлении этой станицы мы снова должны увидеть первую страницу с формой.

Приветствуется использование в реализации RxJs, ImmutableJs.


## Реализация:

Сделано на Angular 8.

Использован Angular Material, поэтому поля ввода не оформлены в отдельные компоненты.

Учтены все моменты валидации, в частности, не указано, как должно отображаться выпадающее поле со статусами семейного положения, если пол не выбран. В этом случае есть вариант &laquo;Женат/Замужем&raquo;, который после выбора пола заменяется на релевантный. Т.е. поведение по максимуму user-friendly.

В задании указано, что после выполнения тест-кейса &laquo;В данных сервиса поле семейное положение имеет значение по умолчанию&raquo;. Ради этого пришлось допустить не _user-friendly_ поведение, когда после выбора даты мы сбрасываем семейное положение. Хотя до этого мы семейное положение сохраняли во что бы то ни стало.

Так же в задании есть противоречие: &laquo;Реализовать на одной странице...&raquo;, а затем &laquo;На второй странице выводить...&raquo;.

Тест-кейс реализован юнит-тестом `src/app/pages/form-page/form-page.component.spec.ts`. Запускается командой:

    ng test  
    
В реализации использованы Angular-сущности:

- guard

- pipe

- service

- routing

- unit-test
